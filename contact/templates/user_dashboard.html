{% extends 'main.html' %}

{% block content %}
    <h1>Welcome, {{ request.user.username }}!</h1>
    <h2>Your Contacts</h2>
    <ul class="contact-list">
        {% for contact in contacts %}
            <li class="contact-item">
                <span class="contact-name">{{ contact.first_name }} {{ contact.last_name }}</span>
                <span class="contact-email">{{ contact.email }}</span>
                <span class="contact-phone">{{ contact.phone_number }}</span>
                <span class="contact-location">{{ contact.location }}</span>
                <span class="contact-message">{{ contact.message }}</span>
            </li>
        {% endfor %}
    </ul>

    <h2>Add New Contact</h2>
    <form method="post">
        {% csrf_token %}
        <label for="first_name">First Name:</label>
        <input type="text" id="first_name" name="first_name" required><br>
        <label for="last_name">Last Name:</label>
        <input type="text" id="last_name" name="last_name" required><br>
        <label for="location">Location:</label>
        <input type="text" id="location" name="location" required><br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>
        <label for="phone_number">Phone Number:</label>
        <input type="text" id="phone_number" name="phone_number"><br>
        <label for="message">Message:</label>
        <textarea id="message" name="message" required></textarea><br>
        <button type="submit">Add Contact</button>
    </form>

    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
{% endblock %}
